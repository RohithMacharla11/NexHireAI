{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user's basic profile information.",
      "type": "object",
      "properties": {
        "name": { "type": "string", "description": "The user's full name." },
        "email": { "type": "string", "format": "email", "description": "The user's email address (read-only)." },
        "role": { "type": "string", "enum": ["candidate", "recruiter"], "description": "The user's role in the application." },
        "avatarUrl": { "type": "string", "format": "uri", "description": "URL for the user's avatar image." },
        "linkedinUrl": { "type": "string", "format": "uri" },
        "githubUrl": { "type": "string", "format": "uri" },
        "portfolioUrl": { "type": "string", "format": "uri" },
        "resumeUrl": { "type": "string", "format": "uri" },
        "analysis": { "$ref": "#/backend/entities/Analysis" },
        "candidateSpecific": { "$ref": "#/backend/entities/CandidateProfile" },
        "recruiterSpecific": { "$ref": "#/backend/entities/RecruiterProfile" }
      },
      "required": ["name", "email", "role"]
    },
    "CandidateProfile": {
      "title": "Candidate Profile",
      "description": "Details specific to a candidate user.",
      "type": "object",
      "properties": {
        "collegeOrUniversity": { "type": "string" },
        "currentCompanyOrInternship": { "type": "string" },
        "experienceLevel": { "type": "string", "enum": ["Fresher", "Intermediate", "Experienced"] },
        "yearsOfExperience": { "type": "number" },
        "skills": { "type": "array", "items": { "type": "string" } },
        "bio": { "type": "string" },
        "locationPreferences": { "type": "array", "items": { "type": "string" } }
      }
    },
    "RecruiterProfile": {
      "title": "Recruiter Profile",
      "description": "Details specific to a recruiter user.",
      "type": "object",
      "properties": {
        "mobileNumber": { "type": "string" },
        "companyName": { "type": "string" },
        "designation": { "type": "string" },
        "companyWebsite": { "type": "string", "format": "uri" },
        "yearsOfExperience": { "type": "number" },
        "hiringFocus": { "type": "array", "items": { "type": "string" } },
        "locationPreferences": { "type": "array", "items": { "type": "string" } },
        "notes": { "type": "string" }
      }
    },
    "Analysis": {
      "title": "Profile Analysis",
      "description": "Stores the results of resume and profile analysis.",
      "type": "object",
      "properties": {
        "summary": { "$ref": "#/backend/entities/AnalysisSummary" }
      }
    },
    "AnalysisSummary": {
        "title": "Analysis Summary",
        "description": "A summary of the profile analysis.",
        "type": "object",
        "properties": {
            "topRoles": { 
                "type": "array", 
                "items": { 
                    "type": "object",
                    "properties": {
                        "role": { "type": "string" },
                        "score": { "type": "number" }
                    }
                } 
            },
            "readinessScore": { "type": "number" },
            "gapAnalysis": { "type": "array", "items": { "type": "string" } },
            "suggestedLearning": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "task": { "type": "string" },
                        "estWeeks": { "type": "number" }
                    }
                }
            },
            "resumeHealth": {
              "type": "object",
              "properties": {
                "contact": { "type": "boolean" },
                "projects": { "type": "boolean" },
                "skills": { "type": "boolean" },
                "keywords": { "type": "boolean" }
              }
            }
        }
    }
  },
  "auth": {
    "providers": ["password"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/backend/entities/UserProfile" },
      "description": "Stores user profile information, keyed by user ID."
    }
  }
}
